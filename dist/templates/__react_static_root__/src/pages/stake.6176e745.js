(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{120:function(e,t,n){"use strict";n.r(t);var a=n(4),r=n.n(a),c=n(30),l=n.n(c),u=n(24),o=n.n(u),i=n(1),f=n.n(i),s=n(64),p=n(44),m=(n(73),n(43)),k=n(51),b=n(69),E=(n(65),n(72)),d=function(){var e,t,n=Object(m.b)(),c=n.account,u=(n.active,n.chainId),i=n.library,d=Object(k.b)(),w=d.signer,O=d.feeBalance,g=d.donutBalance,j=(d.token,d.tipping,Object(a.useState)({})),v=o()(j,2),x=v[0],y=v[1],S=Object(a.useState)(),C=o()(S,2),T=C[0],P=C[1],D=Object(a.useState)(),U=o()(D,2),Y=U[0],L=U[1],N=Object(a.useState)(0),R=o()(N,2),A=R[0],_=R[1],I=Object(a.useState)(0),B=o()(I,2),H=B[0],J=B[1],M=Object(a.useState)(0),V=o()(M,2),W=V[0],X=V[1],q=Object(a.useState)(0),z=o()(q,2),F=z[0],G=z[1],K=Object(a.useState)(!1),Q=o()(K,2),Z=Q[0],$=Q[1];function ee(e){P(new s.a(x.lpToken,p.a.IERC20,e)),L(new s.a(x.stakingContract,p.a.Staking,e))}function te(){return ne.apply(this,arguments)}function ne(){return(ne=l()(f.a.mark((function e(){var t,n,a,r,l;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.balanceOf(c);case 2:return t=e.sent,e.next=5,T.allowance(c,x.stakingContract);case 5:return n=e.sent,e.next=8,Y.balanceOf(c);case 8:return a=e.sent,e.next=11,Y.earned(c);case 11:return r=e.sent,e.next=14,Y.totalSupply();case 14:l=e.sent,$(n.gte(t)),_(t),J(a),X(r),G(l);case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){if(!u)return y({}),P(null),void L(null);var e=p.b[u.toString()];y(e),w&&ee(w)}),[u]),Object(a.useEffect)((function(){w&&ee(w)}),[w]),Object(a.useEffect)((function(){function e(){return(e=l()(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}T?function(){e.apply(this,arguments)}():_(0)}),[T,Y]),r.a.createElement("div",{className:"staking",style:{position:"absolute"}},r.a.createElement("p",null,"You are connected to ",x.label||"an unsupported chain"," ","mainnet"==x.label&&r.a.createElement("button",{onClick:function(){return Object(b.g)(i,(function(){}))}},"Switch to xDai")),"You have:",r.a.createElement("p",null,Object(E.a)(O)," ",null==x||null===(e=x.feeToken)||void 0===e?void 0:e.toUpperCase()),r.a.createElement("p",null,Object(E.a)(g)," DONUTS"),r.a.createElement("p",null,Object(E.a)(A)," LP tokens"),r.a.createElement("p",null,"To stake, you need HONEY-V2 DONUT-WXDAI tokens: ",r.a.createElement("a",{target:"_blank",href:"".concat(x.poolAddPath).concat(x.donut,"/ETH")},"get them by pooling DONUT and ",null==x||null===(t=x.feeToken)||void 0===t?void 0:t.toUpperCase()," on ",x.swapMarketLabel,".")),r.a.createElement("p",null,!Z&&r.a.createElement("button",{onClick:function(){return function(e,t){return h.apply(this,arguments)}(T,x.stakingContract).then(te)}},"Approve token spending to stake")),Z&&A&&A.gt(0)&&r.a.createElement("p",{id:"stake"},"You can ",r.a.createElement("button",{onClick:function(){return Y.stake(A).then((function(e){return e.wait()})).then(te)}},"stake")," ",Object(E.a)(A)," LP tokens"),r.a.createElement("p",null,"You are staking ",Object(E.a)(H)," LP tokens."),H&&H.gt(0)&&r.a.createElement("p",{id:"unstake"},"You can ",r.a.createElement("button",{onClick:function(){return Y.withdraw().then((function(e){return e.wait()})).then(te)}},"unstake")),r.a.createElement("p",null,"You can ",r.a.createElement("button",{onClick:function(){return Y.getReward().then((function(e){return e.wait()})).then(te)}},"claim")," ",Object(E.a)(W)," DONUTs, or ",r.a.createElement("button",{onClick:function(){return Y.exit().then((function(e){return e.wait()})).then(te)}},"claim and unstake")),r.a.createElement("p",null,"There are ",Object(E.a)(F)," total staked LP tokens."),r.a.createElement("p",null,"Daily return: ",r.a.createElement("span",{id:"dailyRoi"}),"%"),r.a.createElement("p",null,"APY: ",r.a.createElement("span",{id:"yearlyRoi"}),"%"),r.a.createElement("p",null),r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"Staking contract:"),r.a.createElement("td",null,r.a.createElement("a",{target:"_blank",href:"".concat(x.explorerPath).concat(x.stakingContract)},x.stakingContract))),r.a.createElement("tr",null,r.a.createElement("td",null,"DONUT:"),r.a.createElement("td",null,r.a.createElement("a",{target:"_blank",href:"".concat(x.explorerPath).concat(x.donut)},x.donut))),r.a.createElement("tr",null,r.a.createElement("td",null,"LP Token:"),r.a.createElement("td",null,r.a.createElement("a",{target:"_blank",href:"".concat(x.explorerPath).concat(x.lpToken)},x.lpToken))))),r.a.createElement("p",null))};function h(){return(h=l()(f.a.mark((function e(t,n){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.approve(n,"0xffffffffffffffffffffffffffffffffffffffff");case 2:return a=e.sent,e.next=5,a.wait();case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.default=function(){var e;e="","undefined"!=typeof window&&(e=window.location.search),new URLSearchParams(e);return r.a.createElement(d,null)}}}]);